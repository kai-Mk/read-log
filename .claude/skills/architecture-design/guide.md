# アーキテクチャ設計書 記述ガイド

## 目的

機能設計書で定義した「どのように作るか」を、技術的な観点から具体化する。

## 各セクションの記述ガイド

### 1. システム構成図

Mermaid記法でシステム全体の構成を図示する。

- クライアント（ブラウザ）からDBまでのデータフローを示す
- 各レイヤー（UI、API、DB）を明確に分離する
- 外部APIとの連携も含める

### 2. 技術スタック詳細

PRDで選定した技術スタックの詳細を記述する。

各技術について以下を記述する:
- **バージョン**: 使用するバージョンを明記する
- **選定理由**: なぜこの技術を選んだかを簡潔に記述する
- **主要な設定**: 重要な設定項目を列挙する

### 3. 環境構成

開発環境とインフラ構成を記述する。

- **Docker構成**: コンテナの構成とdocker-compose設定を記述する
- **環境変数**: 必要な環境変数を列挙する
- **ポート設定**: 各サービスが使用するポートを定義する

### 4. 依存関係

プロジェクトで使用するパッケージを記述する。

- **フロントエンド**: React関連パッケージを列挙する
- **バックエンド**: Hono関連パッケージを列挙する
- **共通**: 型定義、バリデーションなど共有パッケージを列挙する
- **開発**: テスト、リンター、フォーマッターを列挙する

### 5. パフォーマンス設計

パフォーマンスに関する設計方針を記述する。

- **キャッシュ戦略**: SWRのキャッシュ設定など
- **最適化**: 画像最適化、バンドルサイズなど
- **目標値**: PRDで定義した非機能要件を達成するための具体的な施策

### 6. セキュリティ設計

セキュリティに関する設計方針を記述する。

- **アクセス制御**: マイ書庫IDによるアクセス制御の仕組み
- **入力検証**: バリデーションの実施箇所と方針
- **CORS設定**: 許可するオリジンを定義する
- **機密情報の管理**: 環境変数、シークレットの取り扱い方針
- **その他**: XSS対策、SQLインジェクション対策など
